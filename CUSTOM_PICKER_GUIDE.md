# 自定义图片选择器使用说明

## 新增功能

已将系统图片选择器替换为**朋友圈风格的自定义选择器**。

## 主要特性

### 1. 自定义选择界面
- 不再使用系统的图片选择器
- 自定义 UI，更符合朋友圈风格
- 显示相册中的所有照片

### 2. 实况照片识别 ✨
- 在选择界面直接看到哪些是实况照片
- 左下角显示 "Live" 标记
- 选择前就能知道是否为 Live Photo

### 3. 选择顺序显示 ✨
- 右上角显示选择顺序（1、2、3...）
- 清晰了解图片的选择顺序
- 按选择顺序上传和展示

### 4. 灵活的多选管理
- 点击选择，再次点击取消
- 实时显示已选择数量
- 最多选择 9 张图片

## 使用流程

```
1. 点击"添加图片"按钮
   ↓
2. 进入自定义图片选择器
   ↓
3. 浏览相册照片
   - 实况照片显示 Live 标记
   - 点击图片选择
   - 右上角显示选择顺序
   ↓
4. 点击"确定"按钮
   ↓
5. 返回发布页面
   ↓
6. 图片按选择顺序开始上传
```

## 与朋友圈的相似点

| 功能 | 朋友圈 | 本应用 |
|-----|--------|--------|
| 自定义选择界面 | ✅ | ✅ |
| 实况照片标记 | ✅ | ✅ |
| 选择顺序显示 | ✅ | ✅ |
| 多选管理 | ✅ | ✅ |
| 最多 9 张 | ✅ | ✅ |
| 图片网格展示 | ✅ | ✅ |

## 技术实现

- **photo_manager**: 访问系统相册
- **motion_photos**: 检测实况照片
- **自定义 UI**: 完全自定义的选择界面
- **状态管理**: 跟踪选择顺序和状态

## 权限配置

### iOS
在 `Info.plist` 添加：
```xml
<key>NSPhotoLibraryUsageDescription</key>
<string>需要访问您的相册以选择图片</string>
```

### Android
在 `AndroidManifest.xml` 添加：
```xml
<uses-permission android:name="android.permission.READ_MEDIA_IMAGES"/>
```

## 下一步优化

- [ ] 支持相册切换（不同相册）
- [ ] 支持图片预览（放大查看）
- [ ] 支持视频选择
- [ ] 搜索功能
- [ ] 按日期分组
